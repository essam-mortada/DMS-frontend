<app-header></app-header>
<div class="container workspace-detail">
  <!-- Workspace Header -->
  <div class="workspace-header mb-4">
    <h2 class="mb-3">
      <i class="bi bi-journal-bookmark-fill text-primary me-2"></i>
      {{ workspace.name || 'Loading...' }}
    </h2>

    <app-folder-breadcrumbs
      [workspaceId]="workspaceId"
      [folderPath]="folderPath">
    </app-folder-breadcrumbs>
  </div>
<button class="btn btn-primary" (click)="openUploadModal()">
        <i class="fa fa-upload me-2"></i> Upload Document
      </button>

  <!-- Folder List -->
  <app-folder-list
    [workspaceId]="workspaceId"
    [parentFolderId]="currentFolderId"
    (folderDeleted)="onFolderDeleted()">
  </app-folder-list>

  <!-- Document List -->
       <div class="card mt-5">
  <div class="card-body">
    <app-document-list
                        [workspaceId]="workspaceId"
                       (download)="downloadDocument($event.id!, $event.name, $event.type)"
                       (delete)="deleteDocument($event)">
    </app-document-list>
  </div>
</div>

  <!-- Create Folder Modal -->
 <!-- Create Folder Modal -->
<!-- Create Folder Modal -->


<!-- Upload Document Modal -->
@if (showUploadModal) {
  <div class="modal-backdrop fade show" (click)="closeUploadModal()"></div>
  <div class="modal fade show d-block" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document" (click)="$event.stopPropagation()">
      <app-document-upload
        [workspaceId]="workspaceId"
        [folderId]="currentFolderId"
        (documentUploaded)="onDocumentUploaded()"
        (close)="closeUploadModal()">
      </app-document-upload>
    </div>
  </div>
}


</div>

